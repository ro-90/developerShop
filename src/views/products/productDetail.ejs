<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head') %>
<body>
<%- include('../partials/header') %>
<main class="container">
  <section class="row">
    <h2 class="my-4">Detalle del producto</h2>
    <div class="col-12 col-md-8 mx-auto">
      <div class="card shadow mb-3">
        <div class="row g-0">
          <div class="col-lg-4">
            <img src="/images/<%= image %>" class="img-fluid rounded-start" alt="...">
          </div>
          <div class="col-lg-8">
            <div class="card-body">
              <div class="d-flex justify-content-between">
                <h2 class="card-title"><%= name %></h2>
                <p class="fs-3"><small class="text-muted">$<%= price %></small></p>
              </div>
              
              <hr>
              <p class="card-text my-4"><%= description %></p>
              <div class="row my-5">
                <div class="col-12 col-lg-6">
                  <b class="form-label">Colores disponibles:</b>
                  <div class="d-flex gap-4 mt-3">
                    
                    <% colors.forEach(color => { %>
                      <div class="d-flex flex-column align-items-center gap-2">
                        <div class="rounded-circle <%= color.name == 'Blanco' && 'border' %>" style="width: 30px; height: 30px; background-color: <%= color.hexa%>;"></div>
                        
                      </div>
                    <% }) %>
                  </div>
                </div>
                <% if (categoryId == 1) { %>
                  <div class="col-12 col-lg-6">
                    <b class="form-label">Talles disponibles:</b>
                    <div class="d-flex gap-4 mt-3">
                      <% sizes.forEach(size => { %>
                        <div class="d-flex flex-column align-items-center gap-2">
                          <p class="fs-4"><%= size.value %></p>
                        </div>
                      <% }) %>
                    </div>
                  </div>
                <% } %>
            </div>
            <div class="d-flex justify-content-end">
              <button class="btn btn-primary"><i class="fas fa-cart-plus"></i> Agregar al carrito</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <card class="card-body">
        <h5>Productos relacionados</h5>
        <hr>
        <div class="row">
          <% if (relatedProducts.length) { %>
            <% relatedProducts.forEach(product => { %>
              <div class="col-12 col-md-6 col-lg-4">
                <div class="card shadow">
                  <a href="/products/detail/<%= product.id %>">
                    <img src="/images/<%= product.image %>" class="card-img-top" alt="...">
                  </a>
                  <div class="card-body">
                    <h5 class="card-title"><%= product.name %></h5>
                  </div>
                </div>
              </div>
            <% }) %>
          </div>

          <% } else { %>
            <div class="px-3">
              <p class="alert alert-warning">No hay productos relacionados</p>

            </div>
          <% } %>
          
      </card>
    
    </div>
  </section>
 </main>
  <%- include('../partials/footer') %>
</body></html>